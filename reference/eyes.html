<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Count patients and eyes — eyes • eye</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Count patients and eyes — eyes"><meta name="description" content="Counts number of subjects and right and left eyes. Columns are
guessed."><meta property="og:description" content="Counts number of subjects and right and left eyes. Columns are
guessed."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eye</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/eye.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/tjebo/eye/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Count patients and eyes</h1>
      <small class="dont-index">Source: <a href="https://github.com/tjebo/eye/blob/master/R/eyes.R"><code>R/eyes.R</code></a></small>
      <div class="d-none name"><code>eyes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Counts number of subjects and right and left eyes. Columns are
guessed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">eyes</span><span class="op">(</span><span class="va">x</span>, id_col <span class="op">=</span> <span class="cn">NULL</span>, eye_col <span class="op">=</span> <span class="cn">NULL</span>, dropunknown <span class="op">=</span> <span class="cn">TRUE</span>, details <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">eyestr</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, english <span class="op">=</span> <span class="st">"small"</span>, caps <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>required. (data frame)</p></dd>


<dt id="arg-id-col">id_col<a class="anchor" aria-label="anchor" href="#arg-id-col"></a></dt>
<dd><p>Subject identifying column, passed as (quoted) character
Can also be abbreviated to "id" as per partial matching</p></dd>


<dt id="arg-eye-col">eye_col<a class="anchor" aria-label="anchor" href="#arg-eye-col"></a></dt>
<dd><p>Eye identifying column, passed as (quoted) character.
Can also be abbreviated to "eye" as per partial matching</p></dd>


<dt id="arg-dropunknown">dropunknown<a class="anchor" aria-label="anchor" href="#arg-dropunknown"></a></dt>
<dd><p>introduces NA for values not recognized by <a href="recodeye.html">recodeye</a></p></dd>


<dt id="arg-details">details<a class="anchor" aria-label="anchor" href="#arg-details"></a></dt>
<dd><p>if TRUE, will add information about which and how many
subjects have only one eye or both included, and provide a list of
subject IDs for each</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>passed to eyes</p></dd>


<dt id="arg-english">english<a class="anchor" aria-label="anchor" href="#arg-english"></a></dt>
<dd><p>Which numbers to be written in plain english:
choose "small" for numbers till 12, "all" (all numbers),
or "none" (or any other string!) for none</p></dd>


<dt id="arg-caps">caps<a class="anchor" aria-label="anchor" href="#arg-caps"></a></dt>
<dd><p>if TRUE, first number will have capital first letter</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>List (of class "eyes" with count of patients and eyes
if "details = TRUE", an list of class "eyes_details" will be returned</p>
<p><code>eyestr</code>: Character string - can be directly pasted into reports</p>
    </div>
    <div class="section level2">
    <h2 id="column-guessing">Column guessing<a class="anchor" aria-label="anchor" href="#column-guessing"></a></h2>


<p><strong>id_col</strong> and <strong>eye_col</strong> arguments overrule the name guessing for
the respective columns (here, cases need to match). Both arguments can be
abbreviated (<em>id</em> or <em>eye</em>) as per partial argument name matching.</p>
<p>For any below, <strong>cases are always ignored</strong> (column names can be in upper or
lower case, as you please)</p>
<p><strong>patient ID columns</strong>:</p><ul><li><p>First, <code>eyes</code> is looking for names that contain both strings
"pat" and "id" (the order doesn't matter) -
you can change this with <a href="set_eye_strings.html">set_eye_strings</a></p></li>
<li><p>Next, it will look for columns that are plainly called "ID"</p></li>
<li><p>Last, it will search for all names that contain either "pat"
or "id"</p></li>
</ul><p><strong>eye column</strong>:</p><ul><li><p><code>eyes</code> primarily looks for columns called either "eye" or "eyes",
(you can change this with <a href="set_eye_strings.html">set_eye_strings</a>)
and if they are not present, columns containing string "eye"
(e.g., EyeName will be recognized)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="eye-coding">Eye coding<a class="anchor" aria-label="anchor" href="#eye-coding"></a></h2>


<p>The following codes are recognized: (change this with <a href="set_eye_strings.html">set_eye_strings</a>)</p><ul><li><p>integer coding 0:1 and 1:2, right eye being the lower number.</p></li>
<li><p>right eyes: c("r", "re", "od", "right") and</p></li>
<li><p>left eyes: c("l", "le", "os", "left") and</p></li>
<li><p>both eyes: c("b", "both", "ou")</p></li>
</ul><p>If your eye column contains other values, they will be dropped to
NA (dropunknown) or kept (and then only patients will be counted, because
coding remains unclear). Recommend then to recode with <a href="recodeye.html">recodeye</a></p>
    </div>
    <div class="section level2">
    <h2 id="eyestr">eyestr<a class="anchor" aria-label="anchor" href="#eyestr"></a></h2>


<p>eyestr creates a string which can be pasted into reports.
It currently only supports "x eyes of n patient(s)" This is a limitation,
but I guess in the vast majority  of cases will be "correct".
To use for other categories (e.g., "people" or "participants"), use
<code>eyes(...)[1]</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tjebo/eyedata">eyedata</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">eyes</span><span class="op">(</span><span class="va">amd2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ══ Counts ═══════════════</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id  eyes right  left </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3357  3357  1681  1676 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## If you code your eyes with different strings,</span></span></span>
<span class="r-in"><span><span class="co">## e.g., because you are using a different language,</span></span></span>
<span class="r-in"><span><span class="co">## you can change this either with `set_eye_strings`</span></span></span>
<span class="r-in"><span><span class="fu"><a href="set_eye_strings.html">set_eye_strings</a></span><span class="op">(</span>right <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"droit"</span>, <span class="st">"od"</span><span class="op">)</span>, left <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gauche"</span>, <span class="st">"og"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## restore defaults with</span></span></span>
<span class="r-in"><span><span class="fu"><a href="set_eye_strings.html">set_eye_strings</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Examples for the usage of eyestr</span></span></span>
<span class="r-in"><span><span class="fu">eyestr</span><span class="op">(</span><span class="va">amd2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "3357 eyes of 3357 patients"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ls_dat</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">12</span>, <span class="fl">13</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">x</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           eye <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="st">"l"</span><span class="op">)</span>, <span class="va">x</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ls_dat</span>, <span class="va">eyestr</span>, english <span class="op">=</span> <span class="st">"small"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "one eye of one patient"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "twelve eyes of twelve patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "13 eyes of 13 patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ls_dat</span>, <span class="va">eyestr</span>, english <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "one eye of one patient"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "twelve eyes of twelve patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "thirteen eyes of thirteen patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ls_dat</span>, <span class="va">eyestr</span>, english <span class="op">=</span> <span class="st">"all"</span>, caps <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "One eye of one patient"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Twelve eyes of twelve patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Thirteen eyes of thirteen patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ls_dat</span>, <span class="va">eyestr</span>, english <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1 eye of 1 patient"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "12 eyes of 12 patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "13 eyes of 13 patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ls_dat</span>, <span class="va">eyestr</span>, english <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1 eye of 1 patient"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "12 eyes of 12 patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "13 eyes of 13 patients"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tjebo Heeren.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

