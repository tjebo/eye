<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>eye • eye</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="eye">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eye</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/eye.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/tjebo/eye/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>eye</h1>
                        <h4 data-toc-skip class="author">Tjebo
Heeren</h4>
            
            <h4 data-toc-skip class="date">2025-09-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/tjebo/eye/blob/master/vignettes/eye.Rmd"><code>vignettes/eye.Rmd</code></a></small>
      <div class="d-none name"><code>eye.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="see-more-with-eye">See more with <em>eye</em><a class="anchor" aria-label="anchor" href="#see-more-with-eye"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tjebo/eye">eye</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tjebo/eyedata">eyedata</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><em>eye</em> is dedicated to facilitate ophthalmic research,
providing convenient application programming interfaces (API) for common
tasks:</p>
<ul>
<li><a href="#visual-acuity">Handling of visual acuity
notations</a></li>
<li><a href="#count-patients-and-eyes">Easy count of patients and
eyes</a></li>
<li><a href="#recoding-the-eye-variable">Easy recoding of your eye
variable</a></li>
<li>Reshape your eye data - <a href="#myop">long</a> or <a href="#hyperop">wide</a>
</li>
<li><a href="#blink">Quick summary of your eye data</a></li>
<li><a href="#reveal">Get common summary statistics</a></li>
<li><a href="#getage">Calculate age</a></li>
<li><a href="#clean-na-entries">Clean NA equivalent entries</a></li>
</ul>
<p><em>eye</em> includes a <a href="#va-conversion-chart">visual acuity
conversion chart</a>.</p>
</div>
<div class="section level2">
<h2 id="visual-acuity">Visual acuity<a class="anchor" aria-label="anchor" href="#visual-acuity"></a>
</h2>
<p>Pesky visual acuity notations are now a matter of the past. Convert
between any of Snellen (meter/ feet/ decimal!), logMAR and ETDRS. The
notation will be detected automatically and converted to the desired
notation. For some more details see <a href="#va-conversion">VA
conversion</a>. For entries with mixed notation, use
<code>va_mixed</code> instead.</p>
<p>You can also decide to simply “clean” your VA vector with
<code>cleanVA(x)</code>. This will remove all entries that are certainly
no VA.</p>
<p><code><a href="../reference/va.html">va()</a></code> (and of course, its wrappers) cleans and converts
visual acuity notations (classes) between Snellen (decimal, meter and
feet), ETDRS, and logMAR. Each class can be converted from one to
another. <code><a href="../reference/va.html">va()</a></code> will detect the class automatically based on
specific rules detailed below. Calling va() without specifying the “to”
argument will simply clean the visual acuity entries - any notations
will be accepted, no plausibility checks yet performed. This is then
bascially a wrapper around <code>cleanVA</code>.</p>
<p>It takes an (atomic) vector with visual acuity entries as the only
required argument. The user can specify the original VA notation, but va
will check that and ignore the argument if implausible.</p>
<div class="section level3">
<h3 id="conversion-steps">Conversion steps<a class="anchor" aria-label="anchor" href="#conversion-steps"></a>
</h3>
<p><code><a href="../reference/va.html">va()</a></code> basically runs three main steps:</p>
<ol style="list-style-type: decimal">
<li>
<a href="#cleaning">Entry cleaning</a> with
<code><a href="../reference/clean_va.html">clean_va()</a></code>
</li>
<li>
<a href="#detection">Notation detection</a> with
<code><a href="../reference/which_va.html">which_va()</a></code>
</li>
<li>
<a href="#plausibility">Plausibility checks</a> with
<code><a href="../reference/plausibility_methods.html">checkVA()</a></code>
</li>
<li>
<a href="#conversion">Conversion</a> with the S3 generic
<code><a href="../reference/va_methods.html">convertVA()</a></code>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="cleaning">Cleaning<a class="anchor" aria-label="anchor" href="#cleaning"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<code>NA</code> are assigned to missing entries or strings
representing such entries (“.”, ““,”{any number of spaces}“,”N/A”, “NA”,
“NULL”, “-”)</li>
<li>Notation for qualitative entries is simplified (NPL becomes NLP, PL
becomes LP).</li>
<li>“plus” and “minus” from Snellen entries are converted:
<ul>
<li>if entry -2 to +2 : take same Snellen value</li>
<li>if &lt; -2 : take Snellen value one line below</li>
<li>if &gt;+2 : Snellen value one line above</li>
</ul>
</li>
</ol>
<p>Snellen are unfortunately often entered with “+/-”, which is a
violation of psychophysical methods designed to assign one (!)
unambiguous value to visual acuity, with non-arbitrary thresholds based
on psychometric functions. Therefore, transforming “+/-” notation to
actual results is in itself problematic and the below suggestion to
convert it will remain an approximation to the most likely “true”
result. Even more so, as the given conditions should work for charts
with 4 or 5 optotypes in a line, and visual acuity is not always tested
on such charts. Yet, I believe that the approach is still better than
just omitting the letters or (worse) assigning a missing value to those
entries.</p>
<p>If the argument <code>smallstep = TRUE</code>, the entries will be
converted to logmar values (0.02 logmar for each optotype). This is
based on the assumption of 5 optotypes in a row. This argument can be
overriden with <code>noplus = TRUE</code>, ignoring the plus minus
entries entirely and simply returning the nearest Snellen values.</p>
</div>
<div class="section level3">
<h3 id="detection">Detection<a class="anchor" aria-label="anchor" href="#detection"></a>
</h3>
<ul>
<li>Internally done with <code><a href="../reference/which_va.html">which_va()</a></code> based on the following
rules</li>
<li>if x integer and 3 &lt; x &lt;= 100: <code>etdrs</code>
</li>
<li>if x integer and 0 &lt;= x &lt;= 3: <code>logmar</code>,
<code>snellendec</code> or <code>etdrs</code>
</li>
<li>if x numeric and -0.3 &lt;= x &lt;= 3: <code>logmar</code> or
<code>snellendec</code>
</li>
<li>if character and format x/y: <code>snellen</code> (fraction)</li>
<li>if one of “CF”, “HM”, “LP”, “PL”, “NLP”, or “NPL”:
<code>quali</code>
</li>
</ul>
<div class="section level4">
<h4 id="accepted-va-formats-plausibility-checks-plausibility">Accepted VA formats / Plausibility checks [#plausibility]<a class="anchor" aria-label="anchor" href="#accepted-va-formats-plausibility-checks-plausibility"></a>
</h4>
<ul>
<li>Snellen fractions (meter/ feet) need to be entered as fraction with
“/”. <strong>any fraction is allowed</strong> e.g. 3/60 and 2/200 will
also be recognized.</li>
<li>ETDRS must be integer-equivalent between 0 and 100 (integer
equivalent means, it can also be a character vector)</li>
<li>logMAR must be between -0.3 and 3.0</li>
<li>snellendec must be greater than 0 and smaller or equal to 2</li>
<li>Qualitative must be either of PL, LP, NLP, NPL, HM, CF (any case
allowed)</li>
<li>Any element which is implausible / not recognized will be converted
to NA</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="conversion">Conversion<a class="anchor" aria-label="anchor" href="#conversion"></a>
</h3>
<ul>
<li>
<strong>logMAR to ETDRS</strong>: logMAR rounded to the first digit
and converted with the chart.</li>
<li>
<strong>Snellen to logMAR</strong>: logMAR = -1 *
log10(snellen_frac)</li>
<li>
<strong>Snellen to ETDRS</strong>: ETDRS = 85 + 50 *
log10(snellen_frac) <a href="https://doi.org/10.1097/iae.0b013e3181d87e04" class="external-link">Gregori et
al.</a>.</li>
<li>
<strong>ETDRS to logMAR</strong>: logMAR = -0.02 * etdrs + 1.7 <a href="https://doi.org/10.1016/s0002-9394(02)01825-1" class="external-link">Beck et
al.</a>
</li>
<li>
<strong>Hand movements and counting fingers</strong> are converted
following Schulze-Bonsel et al. (<a href="https://doi.org/10.1167/iovs.05-0981" class="external-link uri">https://doi.org/10.1167/iovs.05-0981</a>)</li>
<li>
<strong>(No) light perception</strong> are converted following the
suggestions by <a href="https://michaelbach.de/sci/acuity.html" class="external-link">Michael
Bach</a>
</li>
<li>
<strong>To Snellen</strong>: Although there seems to be no good
statistical reason to convert back to Snellen, it is a very natural
thing to eye specialists to think in Snellen. A conversion to snellen
gives a good gauge of how the visual acuity for the patients are.
However, back-conversion should not be considered an exact science and
any attempt to use formulas will result in very weird Snellen values
that have no correspondence to common charts. Therefore, Snellen
matching the nearest ETDRS and logMAR value in <a href="#va-conversion-chart">the VA conversion chart</a> are used.</li>
</ul>
</div>
<div class="section level3">
<h3 id="qualitative-visual-acuity-measures">Qualitative visual acuity measures<a class="anchor" aria-label="anchor" href="#qualitative-visual-acuity-measures"></a>
</h3>
<p>By default, <code>va</code> recognises the following values (case
does not matter!)</p>
<ul>
<li>No light perception := c(“nlp”, “no light perception”, “no light”,
“no perception of light”, “npl”),</li>
<li>Light perception: = c(“lp”, “light perception”, “perception of
light”, “pl”),</li>
<li>Hand movements: = c(“hm”, “handmotion”, “hand movement”, “hand
movements”),</li>
<li>Counting fingers: = c(“cf”, “counting finger”, “counting fingers”,
“finger count”, “count fingers”)</li>
</ul>
<div class="section level4">
<h4 id="custom-values-for-qualitative-entries">Custom values for qualitative entries:<a class="anchor" aria-label="anchor" href="#custom-values-for-qualitative-entries"></a>
</h4>
<p>To define your own values for qualitative entries, you need to pass a
names list with names c(“cf”, “hm”, “nlp”, “lp”) - in that order - to
quali_values. It accepts only values that can be reasonably converted
into numeric values and it converts only to logMAR. If you want to
convert to a different notation, you will need to call va() a second
time.</p>
</div>
</div>
<div class="section level3">
<h3 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## automatic detection of VA notation and converting to logMAR by default</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">23</span>, <span class="fl">56</span>, <span class="fl">74</span>, <span class="fl">58</span><span class="op">)</span> <span class="co">## ETDRS letters</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_logmar</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># wrapper of va(x, to = "logmar")</span></span>
<span><span class="co">#&gt; From etdrs</span></span>
<span><span class="co">#&gt; [1] 1.24 0.58 0.22 0.54</span></span>
<span></span>
<span><span class="co">## ... or convert to snellen</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_snellen</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># wrapper of va(x, to = "snellen") </span></span>
<span><span class="co">#&gt; From etdrs</span></span>
<span><span class="co">#&gt; [1] "20/320" "20/80"  "20/32"  "20/70"</span></span>
<span></span>
<span><span class="co">## eye knows metric as well </span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_snellen</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"m"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; From etdrs</span></span>
<span><span class="co">#&gt; [1] "6/96"  "6/24"  "6/9.6" "6/21"</span></span>
<span></span>
<span><span class="co">## And the decimal snellen notation, so much loved in Germany</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_snellen</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"dec"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; From etdrs</span></span>
<span><span class="co">#&gt; [1] "0.062" "0.25"  "0.625" "0.3"</span></span>
<span></span>
<span><span class="co">## Remove weird entries and implausible entries depending on the VA choice</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NLP"</span>, <span class="st">"0.8"</span>, <span class="st">"34"</span>, <span class="st">"3/60"</span>, <span class="st">"2/200"</span>, <span class="st">"20/50"</span>, <span class="st">"  "</span>, <span class="st">"."</span>, <span class="st">"-"</span>, <span class="st">"NULL"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_snellen</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; From snellen. Could be snellen, logmar, snellendec, etdrs</span></span>
<span><span class="co">#&gt; 6x NA introduced for: 0.8, 34,   , ., -, NULL</span></span>
<span><span class="co">#&gt;  [1] "20/20000" NA         NA         "20/400"   "20/2000"  "20/50"   </span></span>
<span><span class="co">#&gt;  [7] NA         NA         NA         NA</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_snellen</a></span><span class="op">(</span><span class="va">x</span>, from <span class="op">=</span> <span class="st">"snellendec"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 8x NA introduced for: 34, 3/60, 2/200, 20/50,   , ., -, NULL</span></span>
<span><span class="co">#&gt;  [1] "20/20000" "20/25"    NA         NA         NA         NA        </span></span>
<span><span class="co">#&gt;  [7] NA         NA         NA         NA</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_snellen</a></span><span class="op">(</span><span class="va">x</span>, from <span class="op">=</span> <span class="st">"etdrs"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 8x NA introduced for: 0.8, 3/60, 2/200, 20/50,   , ., -, NULL</span></span>
<span><span class="co">#&gt;  [1] "20/20000" NA         "20/200"   NA         NA         NA        </span></span>
<span><span class="co">#&gt;  [7] NA         NA         NA         NA</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_snellen</a></span><span class="op">(</span><span class="va">x</span>, from <span class="op">=</span> <span class="st">"logmar"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 8x NA introduced for: 34, 3/60, 2/200, 20/50,   , ., -, NULL</span></span>
<span><span class="co">#&gt;  [1] "20/20000" "20/125"   NA         NA         NA         NA        </span></span>
<span><span class="co">#&gt;  [7] NA         NA         NA         NA</span></span>
<span></span>
<span><span class="co">## "plus/minus" entries are converted to the most probable threshold (any spaces allowed) </span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"20/200 - 1"</span>, <span class="st">"6/6-2"</span>, <span class="st">"20/50 + 3"</span>, <span class="st">"6/6-4"</span>, <span class="st">"20/33 + 4"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_logmar</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; From snellen</span></span>
<span><span class="co">#&gt; [1] 1.0 0.0 0.3 0.1 0.1</span></span>
<span></span>
<span><span class="co">## or evaluating them as logmar values (each optotype equals 0.02 logmar)</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_logmar</a></span><span class="op">(</span><span class="va">x</span>, smallstep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; From snellen</span></span>
<span><span class="co">#&gt; [1] 1.02 0.04 0.34 0.08 0.14</span></span>
<span></span>
<span><span class="co">## or you can also decide to completely ignore them (converting them to the nearest snellen value in the VA chart)</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_snellen</a></span><span class="op">(</span><span class="va">x</span>, noplus <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; From snellen</span></span>
<span><span class="co">#&gt; [1] "20/200" "20/20"  "20/50"  "20/20"  "20/32"</span></span>
<span></span>
<span><span class="co">## recognises various ways to write qualitative values such as "hand motion"</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">23</span>, <span class="st">"20/50"</span>, <span class="st">"hand motion"</span>, <span class="st">"hm"</span>, <span class="st">"count fingers"</span>, <span class="st">"no light perception"</span>, <span class="st">"nlp"</span>, <span class="st">"nonsense"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/va.html">va</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1x NA introduced for: nonsense</span></span>
<span><span class="co">#&gt; [1] "23"    "20/50" "hm"    "hm"    "cf"    "nlp"   "nlp"   NA</span></span>
<span></span>
<span><span class="co">## you can set custom strings that are recognised as values</span></span>
<span><span class="fu"><a href="../reference/set_eye_strings.html">set_eye_strings</a></span><span class="op">(</span>nlp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nonsense"</span>, <span class="st">"nlp"</span>, <span class="st">"no light perception"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/va.html">va</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "23"    "20/50" "hm"    "hm"    "cf"    "nlp"   "nlp"   "nlp"</span></span>
<span></span>
<span><span class="co">## reset to default with an empty call to set_eye_strings</span></span>
<span><span class="fu"><a href="../reference/set_eye_strings.html">set_eye_strings</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/va.html">va</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1x NA introduced for: nonsense</span></span>
<span><span class="co">#&gt; [1] "23"    "20/50" "hm"    "hm"    "cf"    "nlp"   "nlp"   NA</span></span>
<span></span>
<span><span class="co">## use your own custom values for qualitative entries</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_logmar</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; From snellen. Could be snellen, logmar, snellendec, etdrs</span></span>
<span><span class="co">#&gt; 2x NA introduced for: 23, nonsense</span></span>
<span><span class="co">#&gt; [1]  NA 0.4 2.3 2.3 2.0 3.0 3.0  NA</span></span>
<span><span class="fu"><a href="../reference/VAwrapper.html">to_logmar</a></span><span class="op">(</span><span class="va">y</span>, quali_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cf <span class="op">=</span> <span class="fl">2</span>, hm <span class="op">=</span> <span class="fl">3</span>, lp <span class="op">=</span> <span class="fl">4</span>, nlp <span class="op">=</span> <span class="fl">6</span> <span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; From snellen. Could be snellen, logmar, snellendec, etdrs</span></span>
<span><span class="co">#&gt; 2x NA introduced for: 23, nonsense</span></span>
<span><span class="co">#&gt; [1]  NA 0.4 3.0 3.0 2.0 6.0 6.0  NA</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="recode">recodeye<a class="anchor" aria-label="anchor" href="#recode"></a>
</h2>
<p>Makes recoding eye variables very easy.</p>
<p>The following codes are recognized:</p>
<ul>
<li>integer coding 0:1 and 1:2, right eye being the lower number.</li>
<li>right eyes: c(“r”, “re”, “od”, “right”) and</li>
<li>left eyes: c(“l”, “le”, “os”, “left”) and</li>
<li>both eyes: c(“b”, “both”, “ou”)</li>
</ul>
<p>If you have different codes, you can change the recognized strings
with the <code>eyestrings</code> argument, which needs to be a list. But
remember to put the strings for right eyes first, or pass a <em>named
list</em>.</p>
<p>You can also more globally change recognized codes with
<code><a href="../reference/set_eye_strings.html">set_eye_strings()</a></code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="st">"re"</span>, <span class="st">"od"</span>, <span class="st">"right"</span>, <span class="st">"l"</span>, <span class="st">"le"</span>, <span class="st">"os"</span>, <span class="st">"left"</span>, <span class="st">"both"</span>, <span class="st">"ou"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/recodeye.html">recodeye</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "r" "r" "r" "r" "l" "l" "l" "l" "b" "b"</span></span>
<span></span>
<span><span class="co">## chose the resulting codes</span></span>
<span><span class="fu"><a href="../reference/recodeye.html">recodeye</a></span><span class="op">(</span><span class="va">x</span>, to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"od"</span>, <span class="st">"os"</span>, <span class="st">"ou"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "od" "od" "od" "od" "os" "os" "os" "os" "ou" "ou"</span></span>
<span></span>
<span><span class="co">## Numeric codes 0:1/ 1:2 are recognized </span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span></span>
<span><span class="fu"><a href="../reference/recodeye.html">recodeye</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; Eyes coded 1:2. Interpreting r = 1</span></span>
<span><span class="co">#&gt; [1] "r" "l"</span></span>
<span></span>
<span><span class="co">## with weird missing values</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="st">"."</span>, <span class="cn">NA</span>, <span class="st">""</span>, <span class="st">"    "</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/recodeye.html">recodeye</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; Missing values and/or meaningless strings contained</span></span>
<span><span class="co">#&gt; Eyes coded 1:2. Interpreting r = 1</span></span>
<span><span class="co">#&gt; [1] "r" "l" NA  NA  NA  NA</span></span>
<span></span>
<span><span class="co">## If you are using different strings to code for eyes, e.g., you are using a different language, you can change this either with the "eyestrings" argument</span></span>
<span><span class="va">french</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"OD"</span>, <span class="st">"droit"</span>, <span class="st">"gauche"</span>, <span class="st">"OG"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/recodeye.html">recodeye</a></span><span class="op">(</span><span class="va">french</span>, eyestrings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>r <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"droit"</span>, <span class="st">"od"</span><span class="op">)</span>, l <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gauche"</span>, <span class="st">"og"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "r" "r" "l" "l"</span></span>
<span></span>
<span><span class="co">## or change it more globally with `set_eye_strings`</span></span>
<span><span class="fu"><a href="../reference/set_eye_strings.html">set_eye_strings</a></span><span class="op">(</span>right <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"droit"</span>, <span class="st">"od"</span><span class="op">)</span>, left <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gauche"</span>, <span class="st">"og"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/recodeye.html">recodeye</a></span><span class="op">(</span><span class="va">french</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "r" "r" "l" "l"</span></span>
<span></span>
<span><span class="co"># to restore the default, call set_eye_strings empty</span></span>
<span><span class="fu"><a href="../reference/set_eye_strings.html">set_eye_strings</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="eyes">Counting patients and eyes<a class="anchor" aria-label="anchor" href="#eyes"></a>
</h2>
<p><code>eyes</code> offers a very simple tool for counting patients and
eyes. It will return a list object which gives you easy access to the
data.</p>
<p>An important step in <code>eyes</code> is the guessing of the columns
that identify patients and eyes. As for <code>myop</code> and of course
<code>blink</code>, a specific column naming is required for a reliable
automatic detection of patient and eye column(s) ( <a href="#names-and-codes">see Names and codes</a>)</p>
<p>The arguments <strong>id</strong> and <strong>eye</strong> arguments
overrule the name guessing for the respective columns.</p>
<div class="section level3">
<h3 id="guessing">Guessing<a class="anchor" aria-label="anchor" href="#guessing"></a>
</h3>
<div class="section level4">
<h4 id="patient-id-columns">patient ID columns:<a class="anchor" aria-label="anchor" href="#patient-id-columns"></a>
</h4>
<ul>
<li>names can be in any case.</li>
<li>First, <code>eyes</code> is looking for names that contain both
strings “pat” and “id” (the order doesn’t matter) you can change those
codes with <code><a href="../reference/set_eye_strings.html">set_eye_strings()</a></code>
</li>
<li>Next, it will look for columns that are plainly called “ID”</li>
<li>Last, it will search for all names that contain either “pat” or
“id”</li>
</ul>
</div>
<div class="section level4">
<h4 id="eye-variable-column">eye variable column:<a class="anchor" aria-label="anchor" href="#eye-variable-column"></a>
</h4>
<ul>
<li>names can be in any case.</li>
<li>
<code>eyes</code> looks for columns that contain the string either
“eye” or “eyes” - you can change those codes with
<code><a href="../reference/set_eye_strings.html">set_eye_strings()</a></code>
</li>
<li>columns will full string “eye” or “eyes” will be given
precedence</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="counting">Counting<a class="anchor" aria-label="anchor" href="#counting"></a>
</h3>
<p>For counting eyes, eyes need to be coded in commonly used ways. You
can use <a href="#recode">recodeye</a> for very convenient recoding.</p>
<ul>
<li><p><code>eyes</code> recognizes integer coding 0:1 and 1:2, with
right being the lower number.</p></li>
<li>
<p>Or, arguably more appropriate in R, character coding for a
categorical variable:</p>
<ul>
<li>right eyes: c(“r”, “re”, “od”, “right”)</li>
<li>left eyes: c(“l”, “le”, “os”, “left”)</li>
<li>both eyes: c(“b”, “both”, “ou”)</li>
</ul>
</li>
<li><p>you can change those codes with
<code><a href="../reference/set_eye_strings.html">set_eye_strings()</a></code></p></li>
</ul>
</div>
<div class="section level3">
<h3 id="report">Report:<a class="anchor" aria-label="anchor" href="#report"></a>
</h3>
<p><code>eyes</code> also include a convenience function to turn the
count into a text. This is intended for integration into rmarkdown
reports, or for easy copy / pasting. <code><a href="../reference/eyes_to_string.html">eyes_to_string()</a></code>
parses the output of <code>eyes</code> into text under the hood.
Arguments to <code>eyes_to_string</code> are passed via
<strong>…</strong>:</p>
<ul>
<li>
<strong>english</strong> Which numbers to be written in plain
english: choose “small” for numbers till 12, “all” (all numbers), or
“none” (or any other string!) for none</li>
<li>
<strong>caps</strong> First number will have capital letter</li>
</ul>
<p><strong>eyestr</strong> will create a string which you can paste into
a report. The name was chosen because it’s a contraction of “eyes” and
“strings” and it’s a tiny bit easier to type than “eyetxt”.</p>
<div class="section level4">
<h4 id="use-in-rmarkdown">Use in rmarkdown<a class="anchor" aria-label="anchor" href="#use-in-rmarkdown"></a>
</h4>
<p><code>eyestr</code> was designed with the use in rmarkdown in mind,
most explicitly for the use inline. You can change the way numbers are
converted to english with the <code>english</code> argument. By default,
numbers smaller than or equal to 12 will be real English, all other
numbers will be … numbers. You can capitalise the first number with the
<code>caps</code> argument.</p>
<p>We analyzed <code>`r eyestr(amd2)`</code> gives: We analyzed 3357
eyes of 3357 patients We analyzed
<code>`r eyestr(head(amd2, 100))`</code>gives: We analyzed eleven eyes
of eleven patients We analyzed
<code>`r eyestr(amd2, english = "all")`</code> gives: We analyzed three
thousand three hundred and fifty-seven eyes of three thousand three
hundred and fifty-seven patients
<code>`r eyestr(head(amd2, 100), caps = TRUE)`</code> were analyzed
gives: Eleven eyes of eleven patients were analyzed We analyzed
<code>`r eyestr(head(amd2, 100), english = "none")`</code> gives: We
analyzed 11 eyes of 11 patients</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="reshape-eye-data">Reshape eye data<a class="anchor" aria-label="anchor" href="#reshape-eye-data"></a>
</h2>
<p>Out of convenience, data is often entered in a “wide” format: In eye
research, there will be often two columns for the same variable, one
column for each eye.</p>
<p>This may be a necessary data formal for specific questions.</p>
<p>However, “eye” is also variable (a dimension of your observation),
and it can also be stored in a separate column. Indeed, in my experience
R often needs eyes to be in a single column, with each other variable
having their own dedicated column.</p>
<div class="section level3">
<h3 id="myop">myop<a class="anchor" aria-label="anchor" href="#myop"></a>
</h3>
<p>Reshaping many such columns can be a daunting task, and
<code><a href="../reference/myop.html">myop()</a></code> makes this easier. It will remove duplicate rows,
and pivot the eye variable to one column and generate a single column
for each variable, thus shaping the data for specific types of analysis.
For example, eight columns that store data of four variables for right
and left eyes will be pivoted to 5 columns (one eye column and four
further variable columns)). See also <strong>Examples</strong>.</p>
<p>As with <code><a href="../reference/eyes.html">eyes()</a></code>, <code><a href="../reference/myop.html">myop()</a></code> requires a specific
data format. <a href="#names-and-codes">See names and codes</a> If there
is already a column called “eye” or “eyes”, myop will not make any
changes - because the data is then already assumed to be in long
format.</p>
<p>If there still are variables spread over two columns for right and
left eyes, then this is an example of messy data. A solution would be to
remove or simply rename the “eye” column and then let myop do the work.
However, you need to be very careful in those cases if resulting data
frame is plausible.</p>
<p><a href="https://tidyr.tidyverse.org/articles/tidy-data.html" class="external-link">Learn
about tidy data.</a></p>
<div class="section level4">
<h4 id="make-myop-work">Make myop work<a class="anchor" aria-label="anchor" href="#make-myop-work"></a>
</h4>
<p>myop will work reliably if you adhere to the following:</p>
<ol style="list-style-type: decimal">
<li>Common codes for eyes:
<ul>
<li>Right eyes: <em>“r”, “re”, “od”, “right”</em>
</li>
<li>Left eyes: <em>“l”, “le”, “os”, “left”</em>
</li>
</ul>
</li>
<li>strings for eyes need to be <strong>separated by period or
underscores</strong>. (Periods will be replaced by underscores).</li>
<li>Any order of substrings is allowed:
<ul>
<li>
<strong>Will work</strong>: “va_r”, “right_morningpressure”,
“night_iop.le”, “gat_os_postop”</li>
<li>
<strong>Will fail</strong>: “VAr”, “rightmorningPressure”,
“night_IOPle”, “gatOSpostop”</li>
</ul>
</li>
</ol>
<p>An exception is when there is only one column for each eye. Then the
column names can consist of “eye strings” only. In this case, the
argument <em>var</em> will be used to name the resulting variable.</p>
<p>If there are only eye columns in your data (should actually not
happen), myop will create identifiers by row position.</p>
<p><strong>Please always check the result for plausibility.</strong>
Depending a lot on how the data was entered, the results could become
quite surprising. There is basically a nearly infinite amount of
possible combinations of how to enter data, and it is likely that myop
will not be able to deal with all of them.</p>
</div>
<div class="section level4">
<h4 id="myop-under-the-hood">myop under the hood<a class="anchor" aria-label="anchor" href="#myop-under-the-hood"></a>
</h4>
<p><code><a href="../reference/myop.html">myop()</a></code> basically runs three main steps:</p>
<ol style="list-style-type: decimal">
<li>Removing duplicates</li>
<li>Rename data names with <code><a href="../reference/myop_rename.html">myop_rename()</a></code> and
<code><a href="../reference/sort_substr.html">sort_substr()</a></code>:
<ul>
<li>Replacing “.” by “_”</li>
<li>Re-arranging and recoding substrings in a way that strings for eyes
always appear at first position. They will be recoded to “r” and
“l”</li>
</ul>
</li>
<li>Myopization: The actual work is done with <code><a href="../reference/myopizer.html">myopizer()</a></code>
and <code><a href="../reference/myop_pivot.html">myop_pivot()</a></code> and itself consists of three steps.
<ul>
<li>All columns with an eye string at first position will be selected
pivoted to two long colums (<code>key</code> and <code>value</code>)
using <code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">tidyr::pivot_longer</a></code>.</li>
<li>The <code>key</code> column will be split by position into an eye
column and a <code>variable</code> column.</li>
<li>The <code>variable</code> and <code>value</code> columns will be
pivoted wide again with <code><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">tidyr::pivot_wider</a></code>.</li>
</ul>
</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wide1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>,  r <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">13</span> , l <span class="op">=</span> <span class="fl">14</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span></span>
<span><span class="va">iop_wide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, iop_r <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">13</span>, iop_l <span class="op">=</span> <span class="fl">14</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span></span>
<span><span class="co">## Mildly messy data frame with several variables spread over two columns:</span></span>
<span><span class="va">wide_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, </span>
<span>  surgery_right <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TE"</span>, <span class="st">"TE"</span>, <span class="st">"SLT"</span>, <span class="st">"SLT"</span><span class="op">)</span>,</span>
<span>  surgery_left <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TE"</span>, <span class="st">"TE"</span>, <span class="st">"TE"</span>, <span class="st">"SLT"</span><span class="op">)</span>,</span>
<span>  iop_r_preop <span class="op">=</span> <span class="fl">21</span><span class="op">:</span><span class="fl">24</span>, iop_r_postop <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">14</span>,</span>
<span>  iop_l_preop <span class="op">=</span> <span class="fl">31</span><span class="op">:</span><span class="fl">34</span>, iop_l_postop <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">14</span>, </span>
<span>  va_r_preop <span class="op">=</span> <span class="fl">41</span><span class="op">:</span><span class="fl">44</span>, va_r_postop <span class="op">=</span> <span class="fl">45</span><span class="op">:</span><span class="fl">48</span>,</span>
<span>  va_l_preop <span class="op">=</span> <span class="fl">41</span><span class="op">:</span><span class="fl">44</span>, va_l_postop <span class="op">=</span> <span class="fl">45</span><span class="op">:</span><span class="fl">48</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## the variable has not been exactly named, (but it is probably IOP data), </span></span>
<span><span class="co">## you can specify the dimension with the var argument</span></span>
<span></span>
<span><span class="fu"><a href="../reference/myop.html">myop</a></span><span class="op">(</span><span class="va">wide1</span>, var <span class="op">=</span> <span class="st">"iop"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id    eye   iop  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> a     right 11   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> a     left  14   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> b     right 12   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> b     left  15   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> c     right 13   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> c     left  16</span></span>
<span></span>
<span><span class="co">## If the dimension is already part of the column names, this is not necessary. </span></span>
<span><span class="fu"><a href="../reference/myop.html">myop</a></span><span class="op">(</span><span class="va">iop_wide</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id    eye   iop  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> a     right 11   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> a     left  14   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> b     right 12   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> b     left  15   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> c     right 13   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> c     left  16</span></span>
<span></span>
<span><span class="co">## myop deals with this in a breeze:</span></span>
<span><span class="fu"><a href="../reference/myop.html">myop</a></span><span class="op">(</span><span class="va">wide_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 7</span></span></span>
<span><span class="co">#&gt;   id    eye   surgery iop_preop iop_postop va_preop va_postop</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> a     right TE      21        11         41       45       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> a     left  TE      31        11         41       45       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> b     right TE      22        12         42       46       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> b     left  TE      32        12         42       46       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> c     right SLT     23        13         43       47       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> c     left  TE      33        13         43       47       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> d     right SLT     24        14         44       48       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> d     left  SLT     34        14         44       48</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="hyperop">hyperop<a class="anchor" aria-label="anchor" href="#hyperop"></a>
</h3>
<p>Basically the opposite of <code><a href="../reference/myop.html">myop()</a></code> - a slightly
intelligent wrapper around <code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">tidyr::pivot_longer()</a></code> and
<code><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">tidyr::pivot_wider()</a></code>. Will find the eye column, unify the
codes for the eyes (all to “r” and “l”) and pivot the columns wide, that
have been specified in “cols”. <strong>Again, good names and tidy data
always help!</strong></p>
<p>The cols argument takes a tidyselection. <a href="https://tidyselect.r-lib.org/reference/language.html" class="external-link">Read about
tidyselection</a></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myop_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/myop.html">myop</a></span><span class="op">(</span><span class="va">wide_df</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/hyperop.html">hyperop</a></span><span class="op">(</span><span class="va">myop_df</span>, cols <span class="op">=</span> <span class="fu">matches</span><span class="op">(</span><span class="st">"va|iop"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 10</span></span></span>
<span><span class="co">#&gt;   id    surgery r_iop_preop r_iop_postop r_va_preop r_va_postop l_iop_preop</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> a     TE      21          11           41         45          31         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> b     TE      22          12           42         46          32         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> c     SLT     23          13           43         47          <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> c     TE      <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>           <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>          33         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> d     SLT     24          14           44         48          34         </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 3 more variables: l_iop_postop &lt;chr&gt;, l_va_preop &lt;chr&gt;, l_va_postop &lt;chr&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="blink">blink<a class="anchor" aria-label="anchor" href="#blink"></a>
</h2>
<p>Although kind of nice, blink is more a nerdy extra and is not likely
to be used much. Therefore I decided to stop the work on it. It will be
left in the package as such.</p>
<p><strong>See your data in a blink of an eye</strong></p>
<p><code><a href="../reference/blink.html">blink()</a></code> is more than just a wrapper around
<code><a href="../reference/myop.html">myop()</a></code>, <code><a href="../reference/eyes.html">eyes()</a></code>, <code><a href="../reference/va.html">va()</a></code> and
<code><a href="../reference/reveal.html">reveal()</a></code>. It will look for VA and for IOP columns and
provide the summary stats for the entire cohort and for right and left
eyes for each VA and IOP variable.</p>
<p><strong>This, again, requires a certain format of names and
codes</strong> - <a href="#names-and-codes">See Names and Codes</a></p>
<div class="section level3">
<h3 id="work-under-the-hood">Work under the hood<a class="anchor" aria-label="anchor" href="#work-under-the-hood"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Removing duplicates</li>
<li>Identification of the index of the VA and IOP columns</li>
<li>Remove certain columns from analysis:
<ul>
<li>Logical columns</li>
<li>Character columns if they are not coding for Snellen fractions or
“qualitative visual acuity”</li>
<li>Those with unique values in the range of the vector defined by the
argument “fct_level”. Those are removed because they are likely
categorical codes. If you have columns with VA or IOP that contain only
0 and 1 for example (which is unlikely, but not impossible), you can
just set <code>fct_level = "x"</code> or any other arbitrary value.</li>
</ul>
</li>
<li>Rename data names with <code><a href="../reference/myop_rename.html">myop_rename()</a></code> and
<code><a href="../reference/sort_substr.html">sort_substr()</a></code>
</li>
<li>Getting the new names based on the indices of the columns</li>
<li>Creating a vector of “expected new names” for the summary after
myopization</li>
<li>Myopizing if possible</li>
<li>Converting VA vectors to logMAR</li>
<li>Applying <code><a href="../reference/reveal.html">reveal()</a></code> to all VA and IOP columns.</li>
</ol>
<p>As you can imagine, a lot of those steps rely hugely on reasonable
naming of your columns and this is what makes this function
unfortunately a bit fragile. However, if you adhere to the naming
conventions, blink (and myop) will do a great job for you.</p>
<p>If you are not happy with the automatic column selection, you can
manually select the VA and IOP columns with the arguments
<code>va_cols</code> or <code>iop_cols</code>. Both accept <a href="https://tidyselect.r-lib.org/reference/language.html" class="external-link">tidyselection</a>.
I personally find <code>starts_with</code>, <code>ends_with</code>,
<code>contains()</code> or the more general <code>matches()</code> very
useful.</p>
</div>
<div class="section level3">
<h3 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/blink.html">blink</a></span><span class="op">(</span><span class="va">wide_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; The lifecycle of blink() has expired. It will no longer be</span></span>
<span><span class="co">#&gt;   maintained, but will be kept in the package.</span></span>
<span><span class="co">#&gt; From etdrs</span></span>
<span><span class="co">#&gt; From etdrs</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">blink</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; ══ Data ════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 7</span></span></span>
<span><span class="co">#&gt;   id    eye   surgery iop_preop iop_postop va_preop va_postop</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;logmar&gt;</span> <span style="color: #949494; font-style: italic;">&lt;logmar&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> a     right TE      21        11         0.88     0.80     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> a     left  TE      31        11         0.88     0.80     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> b     right TE      22        12         0.86     0.78     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> b     left  TE      32        12         0.86     0.78     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> c     right SLT     23        13         0.84     0.76     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> c     left  TE      33        13         0.84     0.76     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> d     right SLT     24        14         0.82     0.74     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> d     left  SLT     34        14         0.82     0.74     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ══ Count of patient and eyes ═══════════</span></span>
<span><span class="co">#&gt; ══ Counts ═══════════════</span></span>
<span><span class="co">#&gt;    id  eyes right  left </span></span>
<span><span class="co">#&gt;     4     8     4     4 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ══ Visual acuity ═══════════════════════</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── $VA_total (all eyes)</span></span>
<span><span class="co">#&gt;         var mean sd n min max</span></span>
<span><span class="co">#&gt; 1  va_preop  0.8  0 8 0.8 0.9</span></span>
<span><span class="co">#&gt; 2 va_postop  0.8  0 8 0.7 0.8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── $VA_eyes (right and left eyes)</span></span>
<span><span class="co">#&gt;   var1 var2  var3  var4       var mean sd n min max</span></span>
<span><span class="co">#&gt; 1 left left right right  va_preop  0.8  0 4 0.8 0.9</span></span>
<span><span class="co">#&gt; 2 left left right right va_postop  0.8  0 4 0.7 0.8</span></span>
<span><span class="co">#&gt; 3 left left right right  va_preop  0.8  0 4 0.8 0.9</span></span>
<span><span class="co">#&gt; 4 left left right right va_postop  0.8  0 4 0.7 0.8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ══ Intraocular pressure ════════════════</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── $IOP_total (all eyes)</span></span>
<span><span class="co">#&gt;          var mean  sd n min max</span></span>
<span><span class="co">#&gt; 1  iop_preop 27.5 5.5 8  21  34</span></span>
<span><span class="co">#&gt; 2 iop_postop 12.5 1.2 8  11  14</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── $IOP_eyes (right and left eyes)</span></span>
<span><span class="co">#&gt;   var1 var2  var3  var4        var mean  sd n min max</span></span>
<span><span class="co">#&gt; 1 left left right right  iop_preop 32.5 1.3 4  31  34</span></span>
<span><span class="co">#&gt; 2 left left right right iop_postop 12.5 1.3 4  11  14</span></span>
<span><span class="co">#&gt; 3 left left right right  iop_preop 22.5 1.3 4  21  24</span></span>
<span><span class="co">#&gt; 4 left left right right iop_postop 12.5 1.3 4  11  14</span></span>
<span></span>
<span><span class="fu"><a href="../reference/blink.html">blink</a></span><span class="op">(</span><span class="va">amd</span><span class="op">)</span></span>
<span><span class="co">#&gt; The lifecycle of blink() has expired. It will no longer be</span></span>
<span><span class="co">#&gt;   maintained, but will be kept in the package.</span></span>
<span><span class="co">#&gt; Warning: Data seems already myopic - no changes made. ?myop for help</span></span>
<span><span class="co">#&gt; From etdrs. Could be etdrs, logmar, snellendec</span></span>
<span><span class="co">#&gt; Unclear which is the eye column. Counting id only.</span></span>
<span><span class="co">#&gt; Specify eye column with "eye_col" argument</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">blink</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; ══ Data ════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 118,255 × 11</span></span></span>
<span><span class="co">#&gt;    patid sex   age   avdays_induc ethnicity loaded  time injgiven va     regimen</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;logm&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> id_1  m     60-69           28 se_asian  TRUE       0 TRUE     0.30   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> id_1  m     60-69           28 se_asian  TRUE      28 TRUE     0.30   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> id_1  m     60-69           28 se_asian  TRUE      56 TRUE     0.30   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> id_1  m     60-69           28 se_asian  TRUE      91 TRUE     0.40   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> id_1  m     60-69           28 se_asian  TRUE     131 TRUE     0.46   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> id_1  m     60-69           28 se_asian  TRUE     173 TRUE     0.40   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> id_1  m     60-69           28 se_asian  TRUE     236 TRUE     0.50   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> id_1  m     60-69           28 se_asian  TRUE     278 TRUE     0.50   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> id_1  m     60-69           28 se_asian  TRUE     411 TRUE     0.60   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> id_1  m     60-69           28 se_asian  TRUE     453 TRUE     0.54   ranibi…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 118,245 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: pre2013 &lt;lgl&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ══ Count of patient and eyes ═══════════</span></span>
<span><span class="co">#&gt; ══ Counts ═══════════════</span></span>
<span><span class="co">#&gt;   id </span></span>
<span><span class="co">#&gt; 7802 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ══ Visual acuity ═══════════════════════</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── $VA_total (all eyes)</span></span>
<span><span class="co">#&gt;   var mean  sd      n  min max</span></span>
<span><span class="co">#&gt; 1  va  0.5 0.4 116530 -0.3 2.3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── $VA_eyes (right and left eyes)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ══ Intraocular pressure ════════════════</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── $IOP_total (all eyes)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── $IOP_eyes (right and left eyes)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="names-and-codes">Names and codes<a class="anchor" aria-label="anchor" href="#names-and-codes"></a>
</h2>
<p><strong>eye works smoother with tidy data, and with good
names</strong> (any package does, really!)</p>
<div class="section level3">
<h3 id="tidy-data">Tidy data<a class="anchor" aria-label="anchor" href="#tidy-data"></a>
</h3>
<p>The basic principle of tidy data is: one column for each dimension
and one row for each observation.</p>
<p><a href="https://tidyr.tidyverse.org/articles/tidy-data.html" class="external-link">Learn
more about tidy data.</a></p>
<p>This chapter explains how you can improve names and codes so that
<code>eye</code> will work like a charm.</p>
</div>
<div class="section level3">
<h3 id="how-do-i-rename-columns-in-r">How do I rename columns in R?<a class="anchor" aria-label="anchor" href="#how-do-i-rename-columns-in-r"></a>
</h3>
<p>When I started with R, I found it challenging to rename columns and I
found the following methods very helpful:</p>
<p>I’ve got a data frame with unfortunate names:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">name_mess</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"a"</span>, oculus <span class="op">=</span> <span class="st">"r"</span>, eyepressure <span class="op">=</span> <span class="fl">14</span>, vision <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">name_mess</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "name"        "oculus"      "eyepressure" "vision"</span></span></code></pre></div>
<p>I can rename all names easily:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">name_mess</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"patID"</span>, <span class="st">"eye"</span>, <span class="st">"IOP"</span>, <span class="st">"VA"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">name_mess</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "patID" "eye"   "IOP"   "VA"</span></span></code></pre></div>
<p>To rename only specific columns, even if you are not sure about their
exact position:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## if you only want to rename one or a few columns: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">name_mess</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">name_mess</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"vision"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"patID"</span>, <span class="st">"VA"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">name_mess</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "patID"       "oculus"      "eyepressure" "VA"</span></span></code></pre></div>
<p>For even more methods, I found those two threads on Stackoverflow
very helpful:</p>
<ul>
<li><a href="https://stackoverflow.com/q/7531868/7941188" class="external-link">Rename single
column</a></li>
<li><a href="https://stackoverflow.com/q/20987295/7941188" class="external-link">Rename
columns with named vector</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="tips-and-rules-for-naming">Tips and rules for naming:<a class="anchor" aria-label="anchor" href="#tips-and-rules-for-naming"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Don’t be too creative with your names!</li>
<li>Use common coding:
<ul>
<li>
<strong>eyes</strong>: “r”, “re”, “od”, “right” - or numeric coding
r:l = 0:1 or 1:2</li>
<li>
<strong>Visual acuity</strong>: “VA”, “BCVA”, “Acuity”</li>
<li>
<strong>Intraocular pressure</strong>: “IOP”, “GAT”, “NCT”,
“pressure”</li>
<li>
<strong>Patient identifier</strong>: “pat”, “patient”, “ID” (ideally
both: “patientID” or “patID”)</li>
</ul>
</li>
<li>Column names:
<ul>
<li>No spaces!</li>
<li>Do not use numeric coding for eyes in column names</li>
<li>Separate eye and VA and IOP codes with underscores (“bcva_l_preop”,
“VA_r”, “left_va”, “IOP_re”)</li>
<li>Keep names short</li>
<li>Don’t use underscores when you don’t need to: Consider each section
divided by an underscore as a relevant characteristic of your variable.
E.g., “preop” instead of “pre_op”, or simply “VA” instead of
“VA_ETDRS_Letters”</li>
</ul>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="name-examples">Name examples<a class="anchor" aria-label="anchor" href="#name-examples"></a>
</h3>
<p>Good names (<code>eye</code> will work nicely)</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## right and left eyes have common codes</span></span>
<span><span class="co">## information on the tested dimension is included ("iop")</span></span>
<span><span class="co">## VA and eye strings are separated by underscores</span></span>
<span><span class="co">## No unnecessary underscores.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">wide_df</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "id"            "surgery_right" "surgery_left"  "iop_r_preop"  </span></span>
<span><span class="co">#&gt;  [5] "iop_r_postop"  "iop_l_preop"   "iop_l_postop"  "va_r_preop"   </span></span>
<span><span class="co">#&gt;  [9] "va_r_postop"   "va_l_preop"    "va_l_postop"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">iop_wide</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] "id"    "iop_r" "iop_l"</span></span></code></pre></div>
<p>OK names (<code>eye</code> will work)</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Id and Eye are common names, there are no spaces</span></span>
<span><span class="co">## VA is separated from the rest with an underscore</span></span>
<span><span class="co">## BUT: </span></span>
<span><span class="co">## The names are quite long </span></span>
<span><span class="co">## There is an unnecessary underscore (etdrs are always letters). Better just "VA"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Id"</span>, <span class="st">"Eye"</span>, <span class="st">"FollowupDays"</span>, <span class="st">"BaselineAge"</span>, <span class="st">"Gender"</span>, <span class="st">"VA_ETDRS_Letters"</span>, </span>
<span><span class="st">"InjectionNumber"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Id"               "Eye"              "FollowupDays"     "BaselineAge"     </span></span>
<span><span class="co">#&gt; [5] "Gender"           "VA_ETDRS_Letters" "InjectionNumber"</span></span>
<span></span>
<span><span class="co">## All names are commonly used (good!)</span></span>
<span><span class="co">## But which dimension of "r"/"l" are we exactly looking at? </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"r"</span>,  <span class="st">"l"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "id" "r"  "l"</span></span></code></pre></div>
<p>Bad names (<code>eye</code> will fail)</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## VA/IOP not separated with underscore</span></span>
<span><span class="co">## `eye` won't be able to recognize IOP and VA columns</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"iopr"</span>, <span class="st">"iopl"</span>, <span class="st">"VAr"</span>, <span class="st">"VAl"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "id"   "iopr" "iopl" "VAr"  "VAl"</span></span>
<span></span>
<span><span class="co">## A human may think this is clear</span></span>
<span><span class="co">## But `eye` will fail to understand those variable names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"person"</span>, <span class="st">"goldmann"</span>, <span class="st">"vision"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "person"   "goldmann" "vision"</span></span>
<span></span>
<span><span class="co">## Not even clear to humans</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"var1"</span>, <span class="st">"var2"</span>, <span class="st">"var3"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "var1" "var2" "var3"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="reveal">Reveal common statistics<a class="anchor" aria-label="anchor" href="#reveal"></a>
</h2>
<p><code><a href="../reference/reveal.html">reveal()</a></code> offers a simple API to show common summary
statistics for all numeric columns of your data frame.
<code><a href="../reference/reveal.html">reveal()</a></code> is basically a slightly complicated wrapper around
<code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>, <code><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd()</a></code>, <code><a href="https://rdrr.io/r/base/length.html" class="external-link">length()</a></code>,
<code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min()</a></code> and <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max()</a></code> (with na.rm = TRUE and
<code><a href="https://rdrr.io/r/base/length.html" class="external-link">length()</a></code> counting only non-NA values).</p>
<p>It is not really intended to replace other awesome data exploration
packages / functions such as <code>skimr::skim</code>, and it will
likely remain focussed on summarizing numerical data only.</p>
<p>It uses an S3 generic under the hood with methods for atomic vectors,
data frames, and lists of either atomic vectors or data frames.
Character vectors will be omitted (and it should give a warning that it
has done so).</p>
<p><code><a href="../reference/reveal.html">reveal()</a></code> takes the grouping argument <code>by</code> and
it returns vector for atomic vectors or a data frame for lists.</p>
<div class="section level3">
<h3 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clean_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/myop.html">myop</a></span><span class="op">(</span><span class="va">wide_df</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/reveal.html">reveal</a></span><span class="op">(</span><span class="va">clean_df</span><span class="op">)</span></span>
<span><span class="co">#&gt;          var mean  sd n min max</span></span>
<span><span class="co">#&gt; 1  iop_preop 27.5 5.5 8  21  34</span></span>
<span><span class="co">#&gt; 2 iop_postop 12.5 1.2 8  11  14</span></span>
<span><span class="co">#&gt; 3   va_preop 42.5 1.2 8  41  44</span></span>
<span><span class="co">#&gt; 4  va_postop 46.5 1.2 8  45  48</span></span>
<span></span>
<span><span class="fu"><a href="../reference/reveal.html">reveal</a></span><span class="op">(</span><span class="va">clean_df</span>, by <span class="op">=</span> <span class="st">"eye"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   var1 var2 var3 var4  var5  var6  var7  var8        var mean  sd n min max</span></span>
<span><span class="co">#&gt; 1 left left left left right right right right  iop_preop 32.5 1.3 4  31  34</span></span>
<span><span class="co">#&gt; 2 left left left left right right right right iop_postop 12.5 1.3 4  11  14</span></span>
<span><span class="co">#&gt; 3 left left left left right right right right   va_preop 42.5 1.3 4  41  44</span></span>
<span><span class="co">#&gt; 4 left left left left right right right right  va_postop 46.5 1.3 4  45  48</span></span>
<span><span class="co">#&gt; 5 left left left left right right right right  iop_preop 22.5 1.3 4  21  24</span></span>
<span><span class="co">#&gt; 6 left left left left right right right right iop_postop 12.5 1.3 4  11  14</span></span>
<span><span class="co">#&gt; 7 left left left left right right right right   va_preop 42.5 1.3 4  41  44</span></span>
<span><span class="co">#&gt; 8 left left left left right right right right  va_postop 46.5 1.3 4  45  48</span></span>
<span></span>
<span><span class="fu"><a href="../reference/reveal.html">reveal</a></span><span class="op">(</span><span class="va">clean_df</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"eye"</span>, <span class="st">"surgery"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    var1 var2 var3 var4  var5  var6  var7  var8 var9 var10 var11 var12 var13</span></span>
<span><span class="co">#&gt; 1  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 2  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 3  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 4  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 5  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 6  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 7  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 8  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 9  left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 10 left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 11 left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 12 left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 13 left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 14 left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 15 left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt; 16 left left left left right right right right left  left  left  left right</span></span>
<span><span class="co">#&gt;    var14 var15 var16 var17 var18 var19 var20 var21 var22 var23 var24 var25</span></span>
<span><span class="co">#&gt; 1  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 2  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 3  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 4  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 5  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 6  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 7  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 8  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 9  right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 10 right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 11 right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 12 right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 13 right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 14 right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 15 right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt; 16 right right right   SLT   SLT   SLT   SLT   SLT   SLT   SLT   SLT    TE</span></span>
<span><span class="co">#&gt;    var26 var27 var28 var29 var30 var31 var32        var mean  sd n min max</span></span>
<span><span class="co">#&gt; 1     TE    TE    TE    TE    TE    TE    TE  iop_preop 34.0  NA 1  34  34</span></span>
<span><span class="co">#&gt; 2     TE    TE    TE    TE    TE    TE    TE iop_postop 14.0  NA 1  14  14</span></span>
<span><span class="co">#&gt; 3     TE    TE    TE    TE    TE    TE    TE   va_preop 44.0  NA 1  44  44</span></span>
<span><span class="co">#&gt; 4     TE    TE    TE    TE    TE    TE    TE  va_postop 48.0  NA 1  48  48</span></span>
<span><span class="co">#&gt; 5     TE    TE    TE    TE    TE    TE    TE  iop_preop 23.5 0.7 2  23  24</span></span>
<span><span class="co">#&gt; 6     TE    TE    TE    TE    TE    TE    TE iop_postop 13.5 0.7 2  13  14</span></span>
<span><span class="co">#&gt; 7     TE    TE    TE    TE    TE    TE    TE   va_preop 43.5 0.7 2  43  44</span></span>
<span><span class="co">#&gt; 8     TE    TE    TE    TE    TE    TE    TE  va_postop 47.5 0.7 2  47  48</span></span>
<span><span class="co">#&gt; 9     TE    TE    TE    TE    TE    TE    TE  iop_preop 32.0 1.0 3  31  33</span></span>
<span><span class="co">#&gt; 10    TE    TE    TE    TE    TE    TE    TE iop_postop 12.0 1.0 3  11  13</span></span>
<span><span class="co">#&gt; 11    TE    TE    TE    TE    TE    TE    TE   va_preop 42.0 1.0 3  41  43</span></span>
<span><span class="co">#&gt; 12    TE    TE    TE    TE    TE    TE    TE  va_postop 46.0 1.0 3  45  47</span></span>
<span><span class="co">#&gt; 13    TE    TE    TE    TE    TE    TE    TE  iop_preop 21.5 0.7 2  21  22</span></span>
<span><span class="co">#&gt; 14    TE    TE    TE    TE    TE    TE    TE iop_postop 11.5 0.7 2  11  12</span></span>
<span><span class="co">#&gt; 15    TE    TE    TE    TE    TE    TE    TE   va_preop 41.5 0.7 2  41  42</span></span>
<span><span class="co">#&gt; 16    TE    TE    TE    TE    TE    TE    TE  va_postop 45.5 0.7 2  45  46</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="getage">Calculate age<a class="anchor" aria-label="anchor" href="#getage"></a>
</h2>
<p>This is a simple function and should not require much explanation.
However, it may be noteworthy to mention the subtle distinction of
periods and durations, which are an idiosyncrasy of time measurements
and well explained <a href="https://lubridate.tidyverse.org/articles/lubridate.html#time-intervals" class="external-link">in
this thread.</a></p>
<div class="section level3">
<h3 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dob</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1984-10-16"</span>, <span class="st">"2000-01-01"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## If no second date given, the age today</span></span>
<span><span class="fu"><a href="../reference/getage.html">getage</a></span><span class="op">(</span><span class="va">dob</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 40.9 25.7</span></span>
<span></span>
<span><span class="co">## If the second argument is specified, the age until then</span></span>
<span><span class="fu"><a href="../reference/getage.html">getage</a></span><span class="op">(</span><span class="va">dob</span>, <span class="st">"2000-01-01"</span><span class="op">)</span>                                                    </span>
<span><span class="co">#&gt; [1] 15.2  0.0</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="important-notes">Important notes<a class="anchor" aria-label="anchor" href="#important-notes"></a>
</h2>
<p><strong>I do not assume responsability for your data or
analysis</strong>. Please always keep a critical mind when working with
data - if you do get results that seem implausible, there may be a
chance that the data is in an unfortunate shape for which
<code>eye</code> may not be suitable.</p>
<div class="section level3">
<h3 id="va-conversion-chart">VA conversion chart<a class="anchor" aria-label="anchor" href="#va-conversion-chart"></a>
</h3>
<p>This chart is included in the package as <code>va_chart</code></p>
<div style="font-size:8 pt;">
<table class="table">
<colgroup>
<col width="21%">
<col width="19%">
<col width="23%">
<col width="13%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th>Snellen feet</th>
<th>Snellen meter</th>
<th>Snellen decimal</th>
<th>logMAR</th>
<th>ETDRS</th>
<th>Categories</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>20/20000</td>
<td>6/6000</td>
<td>0.001</td>
<td>3</td>
<td>0</td>
<td>NLP</td>
</tr>
<tr class="even">
<td>20/10000</td>
<td>6/3000</td>
<td>0.002</td>
<td>2.7</td>
<td>0</td>
<td>LP</td>
</tr>
<tr class="odd">
<td>20/4000</td>
<td>6/1200</td>
<td>0.005</td>
<td>2.3</td>
<td>0</td>
<td>HM</td>
</tr>
<tr class="even">
<td>20/2000</td>
<td>6/600</td>
<td>0.01</td>
<td>1.9</td>
<td>2</td>
<td>CF</td>
</tr>
<tr class="odd">
<td>20/800</td>
<td>6/240</td>
<td>0.025</td>
<td>1.6</td>
<td>5</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/630</td>
<td>6/190</td>
<td>0.032</td>
<td>1.5</td>
<td>10</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/500</td>
<td>6/150</td>
<td>0.04</td>
<td>1.4</td>
<td>15</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/400</td>
<td>6/120</td>
<td>0.05</td>
<td>1.3</td>
<td>20</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/320</td>
<td>6/96</td>
<td>0.062</td>
<td>1.2</td>
<td>25</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/300</td>
<td>6/90</td>
<td>0.067</td>
<td>1.18</td>
<td>26</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/250</td>
<td>6/75</td>
<td>0.08</td>
<td>1.1</td>
<td>30</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/200</td>
<td>6/60</td>
<td>0.1</td>
<td>1.0</td>
<td>35</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/160</td>
<td>6/48</td>
<td>0.125</td>
<td>0.9</td>
<td>40</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/125</td>
<td>6/38</td>
<td>0.16</td>
<td>0.8</td>
<td>45</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/120</td>
<td>6/36</td>
<td>0.167</td>
<td>0.78</td>
<td>46</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/100</td>
<td>6/30</td>
<td>0.2</td>
<td>0.7</td>
<td>50</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/80</td>
<td>6/24</td>
<td>0.25</td>
<td>0.6</td>
<td>55</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/70</td>
<td>6/21</td>
<td>0.29</td>
<td>0.54</td>
<td>58</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/63</td>
<td>6/19</td>
<td>0.32</td>
<td>0.5</td>
<td>60</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/60</td>
<td>6/18</td>
<td>0.33</td>
<td>0.48</td>
<td>61</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/50</td>
<td>6/15</td>
<td>0.4</td>
<td>0.4</td>
<td>65</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/40</td>
<td>6/12</td>
<td>0.5</td>
<td>0.3</td>
<td>70</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/32</td>
<td>6/9.6</td>
<td>0.625</td>
<td>0.2</td>
<td>75</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/30</td>
<td>6/9</td>
<td>0.66</td>
<td>0.18</td>
<td>76</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/25</td>
<td>6/7.5</td>
<td>0.8</td>
<td>0.1</td>
<td>80</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/20</td>
<td>6/6</td>
<td>1.0</td>
<td>0.0</td>
<td>85</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/16</td>
<td>6/5</td>
<td>1.25</td>
<td>-0.1</td>
<td>90</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/15</td>
<td>6/4.5</td>
<td>1.33</td>
<td>-0.12</td>
<td>91</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>20/13</td>
<td>6/4</td>
<td>1.5</td>
<td>-0.2</td>
<td>95</td>
<td>NA</td>
</tr>
<tr class="even">
<td>20/10</td>
<td>6/3</td>
<td>2.0</td>
<td>-0.3</td>
<td>100</td>
<td>NA</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<ul>
<li>Thanks to <strong>Alasdair Warwick</strong>, <strong>Aaron
Lee</strong>, <strong>Tim Yap</strong>, <strong>Siegfried
Wagner</strong> and <strong>Abraham Olvera</strong> for great
suggestions, testing and code review.<br>
</li>
<li>
<strong>Pearse Keane</strong>, <strong>Dun Jack Fu</strong>,
<strong>Katrin Fasler</strong> and <strong>Christoph Kern</strong> for
their contribution of open source data</li>
<li>Thanks to <a href="https://github.com/moodymudskipper" class="external-link">Antoine
Fabri</a> for his contribution to <code><a href="../reference/getage.html">getage()</a></code>
</li>
<li>Thanks to Hadley Wickham and all developers of the
<code>tidyverse</code> packages and the packages <code>roxygen2</code>,
<code>usethis</code>, <code>testthis</code> and <code>devtools</code>,
all on which <code>eye</code> heavily relies.</li>
</ul>
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h2>
<ul>
<li><a href="https://michaelbach.de/sci/acuity.html" class="external-link">Michael Bach’s
homepage</a></li>
<li><a href="https://michaelbach.de/sci/pubs/Bach2007IOVS_eLetter_FrACT.pdf" class="external-link">Michael
Bach on NLP and LP</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Beck, Roy W, Pamela S Moke, Andrew H Turpin, Frederick L Ferris, John
Paul SanGiovanni, Chris A Johnson, Eileen E Birch, et al. 2003. “A
Computerized Method of Visual Acuity Testing.” American Journal of
Ophthalmology 135 (2). Elsevier BV: 194–205. <a href="https://doi.org/10.1016/s0002-9394(02)01825-1" class="external-link uri">https://doi.org/10.1016/s0002-9394(02)01825-1</a>.</p>
<p>Gregori, Ninel Z, William Feuer, and Philip J Rosenfeld. 2010. “Novel
Method for Analyzing Snellen Visual Acuity Measurements.” Retina 30 (7).
Ovid Technologies (Wolters Kluwer Health): 1046–50. <a href="https://doi.org/10.1097/iae.0b013e3181d87e04" class="external-link uri">https://doi.org/10.1097/iae.0b013e3181d87e04</a>.</p>
<p>Holladay, Jack T. 2004. “Visual Acuity Measurements.” Journal of
Cataract and Refractive Surgery 30 (2): 287–90. <a href="https://doi.org/10.1016/j.jcrs.2004.01.014" class="external-link uri">https://doi.org/10.1016/j.jcrs.2004.01.014</a>.</p>
<p>Schulze-Bonsel, Kilian, Nicolas Feltgen, Hermann Burau, Lutz Hansen,
and Michael Bach. 2006. “Visual Acuities ‘Hand Motion’ and ‘Counting
Fingers’ Can Be Quantified with the Freiburg Visual Acuity Test.”
Investigative Ophthalmology &amp; Visual Science 47 (3): 1236–40. <a href="https://doi.org/10.1167/iovs.05-0981" class="external-link uri">https://doi.org/10.1167/iovs.05-0981</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tjebo Heeren.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
